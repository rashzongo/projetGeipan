<html lang="fr">
	<head>
		<title>CRUD avec Express + MongoDB</title>
		<!--
		<script src="js/crudAvecFetch.js"></script>
		-->
		<script src="js/crudAvecFetchAvecTable.js"></script>
		<link rel="stylesheet" href="css/styles.css">
	</head>
	<body>
		
		<MaterialTable
        title="Liste des Cas"
        columns={[
          { title: 'id', field: 'id_cas' },
          { title: 'Nom', field: 'cas_nom_dossier' },
          { title: 'Zone', field: 'cas_zone_nom' },
        ]}
        data={query =>
          new Promise((resolve, reject) => {
            let url = 'http://localhost:1234/cas?'
            url += 'pageSize=' + query.pageSize
            url += '&page=' + (query.page)
            fetch(url)
              .then(response => response.json())
              .then(result => {
                resolve({
                  data: result.data,
                  page: query.page,
                  totalCount: result.total,
                })
              })
          })
        }
      />

	</body>
</html>
